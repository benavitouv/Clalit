<!doctype html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>בקשה לטופס 17 - כללית</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700&family=Frank+Ruhl+Libre:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="shell">
      <header class="brand">
        <div class="logo">
          <img src="Clalit.png" alt="לוגו כללית" />
        </div>
        <div class="brand-text">
          <p class="eyebrow">שירותי בריאות כללית</p>
          <h1>בקשה לטופס 17</h1>
          <p class="subhead">
            מלאו את הפרטים, צרפו את ההפניה הרפואית, והמערכת תעביר את הבקשה לאישור. במידה והכל תקין, תקבלו טופס 17.
          </p>
        </div>
      </header>

      <form
        id="claim-form"
        class="card"
        autocomplete="off"
        data-lpignore="true"
        data-1p-ignore="true"
        data-form-type="other"
        data-bwignore="true"
      >
        <div class="field-grid">
          <label class="field">
            <span>שם פרטי</span>
            <input
              type="text"
              name="first_name"
              autocomplete="off"
              data-lpignore="true"
              data-1p-ignore="true"
              data-form-type="other"
              data-bwignore="true"
              required
              placeholder="דוגמה: נועה"
            />
          </label>
          <label class="field">
            <span>שם משפחה</span>
            <input
              type="text"
              name="last_name"
              autocomplete="off"
              data-lpignore="true"
              data-1p-ignore="true"
              data-form-type="other"
              data-bwignore="true"
              required
              placeholder="דוגמה: לוי"
            />
          </label>
        </div>

        <label class="field">
          <span>אימייל ליצירת קשר</span>
          <input
            type="email"
            name="email"
            dir="ltr"
            autocomplete="off"
            data-lpignore="true"
            data-1p-ignore="true"
            data-form-type="other"
            data-bwignore="true"
            required
            placeholder="name@example.com"
          />
        </label>

        <label class="field">
          <span>בית חולים מבוקש</span>
          <select
            name="hospital"
            required
          >
            <option value="">בחרו בית חולים</option>
            <option value="soroka (Clalit)">המרכז הרפואי סורוקה – באר שבע (כללית)</option>
            <option value="rabin (Clalit)">המרכז הרפואי רבין – פתח תקווה (כללית)</option>
            <option value="schneider (Clalit)">המרכז הרפואי שניידר לרפואת ילדים בישראל – פתח תקווה (כללית)</option>
            <option value="emek (Clalit)">המרכז הרפואי העמק – עפולה (כללית)</option>
            <option value="meir (Clalit)">המרכז הרפואי מאיר – כפר סבא (כללית)</option>
            <option value="kaplan (Clalit)">המרכז הרפואי קפלן – רחובות (כללית)</option>
            <option value="carmel (Clalit)">המרכז הרפואי כרמל – חיפה (כללית)</option>
            <option value="yoseftal (Clalit)">המרכז הרפואי יוספטל – אילת (כללית)</option>
            <option value="geha (Clalit)">המרכז לבריאות הנפש גהה – פתח תקווה (כללית)</option>
            <option value="shalvata (Clalit)">המרכז לבריאות הנפש שלוותה – הוד השרון (כללית)</option>
            <option value="loewenstein (Clalit)">המרכז הרפואי לשיקום לוינשטיין – רעננה (כללית)</option>
            <option value="rivka (Clalit)">בית רבקה – מרכז גריאטרי שיקומי, פתח תקווה (כללית)</option>
            <option value="herzfeld (Clalit)">המרכז הרפואי הרצפלד – גדרה (כללית)</option>
            <option value="sheba">המרכז הרפואי שיבא – רמת גן</option>
            <option value="ichilov">המרכז הרפואי איכילוב  – תל אביב</option>
            <option value="hadassah-ein-kerem">המרכז הרפואי הדסה עין כרם – ירושלים</option>
            <option value="hadassah-har-hatzofim">המרכז הרפואי הדסה הר הצופים – ירושלים</option>
            <option value="shaare-zedek">המרכז הרפואי שערי צדק – ירושלים</option>
            <option value="assaf-harofeh">המרכז הרפואי אסף הרופא – באר יעקב</option>
            <option value="wolfson">המרכז הרפואי וולפסון – חולון</option>
            <option value="bnai-zion">המרכז הרפואי בני ציון – חיפה</option>
            <option value="ziv">המרכז הרפואי זיו – צפת</option>
            <option value="poriya">המרכז הרפואי פוריה – טבריה</option>
            <option value="barzilai">המרכז הרפואי ברזילי – אשקלון</option>
            <option value="hillel-yaffe">המרכז הרפואי הלל יפה – חדרה</option>
            <option value="rambam">המרכז הרפואי רמב"ם – חיפה</option>
            <option value="laniado">המרכז הרפואי לניאדו – נתניה</option>
          </select>
        </label>

        <div class="field">
          <span>הפניה רפואית</span>
          <label id="drop-zone" class="drop-zone">
            <input
              id="claim_file"
              name="claim_file"
              type="file"
              accept=".pdf,.jpg,.jpeg,.png,.doc,.docx"
              required
            />
            <div class="drop-content">
              <div class="drop-icon">⇣</div>
              <div>
                <strong>גררו קובץ לכאן</strong>
                <p>או לחצו לבחירת קובץ מהמחשב</p>
              </div>
            </div>
            <div class="file-meta">
              <span id="file-name">לא נבחר קובץ</span>
              <span id="file-size">—</span>
            </div>
          </label>
          <p class="hint">קבצים מותרים: PDF, JPG, PNG או Word. גודל מומלץ עד 15MB.</p>
        </div>

        <button id="submit-btn" class="submit" type="submit">
          <span>שליחת בקשה לטופס 17</span>
          <span class="spinner" aria-hidden="true"></span>
        </button>

        <div id="status" class="status" role="status" aria-live="polite">
          <span class="status-check" aria-hidden="true">
            <svg viewBox="0 0 52 52" role="presentation">
              <circle cx="26" cy="26" r="24" fill="none" />
              <path d="M15 27l8 8 14-16" fill="none" />
            </svg>
          </span>
          <span id="status-text"></span>
        </div>
      </form>

      <p class="footnote">
        המסמכים נשמרים בצורה מאובטחת ומועברים ישירות לשירותי בריאות כללית.
      </p>
    </main>

    <div id="success-modal" class="success-modal" aria-hidden="true">
      <div class="success-card" role="dialog" aria-modal="true" aria-labelledby="success-title">
        <div class="success-icon" aria-hidden="true">
          <svg viewBox="0 0 120 120" role="presentation">
            <circle cx="60" cy="60" r="54" fill="none" />
            <path d="M36 64l16 16 32-36" fill="none" />
          </svg>
        </div>
        <h2 id="success-title">הבקשה נשלחה בהצלחה</h2>
        <p>קיבלנו את ההפניה הרפואית ומעבירים אותה לאישור. במידה והכל תקין, תקבלו טופס 17.</p>
        <button id="success-close" class="ghost" type="button">שליחת בקשה נוספת</button>
      </div>
    </div>

    <script type="module" src="app.js"></script>
    <script>
      (() => {
        const s = document.createElement('script');
        s.src = 'https://wonderful.app.demo.wonderful.ai/embed/wonderful-chat.js';
        s.onload = () => {
          new window.WonderfulChat({
            environment: "wonderful.api.demo.wonderful.ai",
            agentId: "312962dc-f9c2-434d-80fc-23d895fa332c",

            // Core settings
            agentName: 'Clalit Agent',
            buttonText: 'דבר עם נציג כללית',
            placeholderText: 'כתבו הודעה כאן...',
            isRTL: true,

            // Main theme colors (Clalit green and blue)
            primaryColor: '#00A859',
            accentColor: '#0077C8',
            textColor: '#1a4731',

            // Chat appearance
            headerBgColor: '#00A859',
            headerTextColor: '#ffffff',

            // Message bubbles
            userBubbleColor: '#00A859',
            userTextColor: '#ffffff',
            agentBubbleColor: '#ffffff',
            agentTextColor: '#1a4731',

            // Background colors
            windowBgColor: '#f0f9f4',
            messagesBgColor: '#ffffff',
            inputBgColor: '#ffffff',

            // Status indicators
            statusColor: '#00A859',
            errorColor: '#F44336',

            // Optional logo (can be removed)
            logoUrl: 'Clalit.png'
          });
        };
        document.head.appendChild(s);
      })();
    </script>
  </body>
</html>
